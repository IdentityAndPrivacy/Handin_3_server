<div>
	{{!-- Login --}}
	<div id="login" class="container">
	<h2>Sign in to register</h2>
		<div class="row">
			<div class="input-field col s10 offset-s1">
				<input id="username" name="username" type="text" class="validate">
				<label for="username">Username</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s10 offset-s1">
				<input id="password" name="password" type="password" class="validate">
				<label for="password">Password</label>
			</div>
		</div>
		<div>
			<button id="login-btn" class="btn">Login</button>
		</div>
	</div>	

	{{!-- U2F --}}
	<div id="u2f" class="container">
		<h5>LALALALA</h5>
		<a href="/start_registration"><button class="btn">Register</button></a>
		<a href="/start_authentication"><button class="btn">Authenticate</button></a>
	</div>
</div>

<script type="text/javascript">
	$( document ).ready(function() {
	    $('#login-btn').click(login);
	    if(localStorage.getItem('username') !== null) {
	    	// Logged in
	    	console.log('Logged in!');
	    	$('#login').hide();
	    }
	    else {
	    	console.log('Not logged in');
	    	$('#u2f').hide();
	    }
	    
	});

	// Logging in
	function login(){
	  $.ajax({
	    type: 'POST',
	    url: '/login',
	    data: {
	      username: $('#username').val(), 
	      password: $('#password').val()
	    }
	  })
	  .done(function(data){
	  	if(data.authenticated === true){
	  		// Logged in
	  		$('#login').hide();
	  		$('#u2f').show();
	  	}
	  	else {
	  		alert('Error, try again.');
	  	}
	  });
	};

	  // Registering device
	  
	
</script>